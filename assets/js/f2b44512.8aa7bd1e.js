"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2236],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),p=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},l=function(e){var t=p(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(c,".").concat(m)]||d[m]||u[m]||s;return n?a.createElement(h,o(o({ref:t},l),{},{components:n})):a.createElement(h,o({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,o=new Array(s);o[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var p=2;p<s;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1033:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const s={sidebar_position:3},o="Derived & Nested State",i={unversionedId:"basic_concepts/derived_state",id:"basic_concepts/derived_state",title:"Derived & Nested State",description:"With state pool you can subscribe to deeply nested or derived state. Both store.useState and store.useReducer accepts an optional configuration parameter with which you can pass selector & patcher options that are used to derive and update state.",source:"@site/docs/basic_concepts/derived_state.md",sourceDirName:"basic_concepts",slug:"/basic_concepts/derived_state",permalink:"/state-pool/docs/basic_concepts/derived_state",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/basic_concepts/derived_state.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Using Store State",permalink:"/state-pool/docs/basic_concepts/using_store_state"},next:{title:"Managing Subscriptions",permalink:"/state-pool/docs/basic_concepts/managing_subscriptions"}},c={},p=[],l={toc:p};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"derived--nested-state"},"Derived & Nested State"),(0,r.kt)("p",null,"With state pool you can subscribe to deeply nested or derived state. Both ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useState")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useReducer")," accepts an optional configuration parameter with which you can pass ",(0,r.kt)("inlineCode",{parentName:"p"},"selector")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"patcher")," options that are used to derive and update state."),(0,r.kt)("p",null,"Here is a simple example showing how to use ",(0,r.kt)("inlineCode",{parentName:"p"},"selector")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"Patcher")," options"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// With store API\nconst user = createState({\n    name: "Yezy",\n    age: 25,\n    email: "yezy@me.com"\n});\n\n\nfunction UserName(props){\n    const selector = (user) => user.name;  // Subscribe to user.name only\n    const patcher = (user, name) => {user.name = name};  // Update user.name\n\n    const [name, setName] = user.useState({selector: selector, patcher: patcher});\n\n    const handleNameChange = (e) => {\n        setName(e.target.value);\n    }\n\n    return (\n        <div>\n            Name: {name} <br/>\n            <input type="text" value={name} onChange={handleNameChange}/>\n        </div>\n    );\n}\n')),(0,r.kt)("p",null,"Or with store API"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// With store API\nstore.setState("user", {\n    name: "Yezy",\n    age: 25,\n    email: "yezy@me.com"\n});\n\n\nfunction UserName(props){\n    const selector = (user) => user.name;  // Subscribe to user.name only\n    const patcher = (user, name) => {user.name = name};  // Update user.name\n\n    const [name, setName] = store.useState("user", {selector: selector, patcher: patcher});\n\n    const handleNameChange = (e) => {\n        setName(e.target.value);\n    }\n\n    return (\n        <div>\n            Name: {name} <br/>\n            <input type="text" value={name} onChange={handleNameChange}/>\n        </div>\n    );\n}\n')),(0,r.kt)("p",null,"Here ",(0,r.kt)("inlineCode",{parentName:"p"},"selector")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"patcher")," are used for specifying a way to select deeply nested state(derive new state) and update it."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"selector")," should be a function which takes one parameter which is the state and returns a selected value. The purpose of this is to subscribe to a deeply nested or derived state.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"patcher")," should be a function which takes two parameters, the first is the state and the second is the selected value. The purpose of this is to merge back the selected value to the state once it's updated."))))}u.isMDXComponent=!0}}]);