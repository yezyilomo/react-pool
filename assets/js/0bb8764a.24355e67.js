"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3893],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,f=d["".concat(p,".").concat(m)]||d[m]||l[m]||o;return n?a.createElement(f,s(s({ref:t},u),{},{components:n})):a.createElement(f,s({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var c=2;c<o;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3437:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_position:2},s="Using Store State",i={unversionedId:"basic_concepts/using_store_state",id:"basic_concepts/using_store_state",title:"Using Store State",description:"After creating a store and setting states to it we need to use our states in components. Here a store provides store.useState hook which is used to consume a state from a store in a component, it's basically a way for a component to subscribe to a state from a store.",source:"@site/docs/basic_concepts/using_store_state.md",sourceDirName:"basic_concepts",slug:"/basic_concepts/using_store_state",permalink:"/state-pool/docs/basic_concepts/using_store_state",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/basic_concepts/using_store_state.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Store",permalink:"/state-pool/docs/basic_concepts/store"},next:{title:"Derived & Nested State",permalink:"/state-pool/docs/basic_concepts/derived_state"}},p={},c=[],u={toc:c};function l(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"using-store-state"},"Using Store State"),(0,r.kt)("p",null,"After creating a store and setting states to it we need to use our states in components. Here a store provides ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useState")," hook which is used to consume a state from a store in a component, it's basically a way for a component to subscribe to a state from a store."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"store.useState")," works just like ",(0,r.kt)("inlineCode",{parentName:"p"},"React.useState")," hook but it accepts a key for the state to use and returns an array of ",(0,r.kt)("inlineCode",{parentName:"p"},"[state, setState, updateState]")," rather than ",(0,r.kt)("inlineCode",{parentName:"p"},"[state, setState]"),"."),(0,r.kt)("p",null,"In addition to the key parameter it also accept another optional parameter which is the config object, available configurations are ",(0,r.kt)("inlineCode",{parentName:"p"},"default"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"persist"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"selector")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"patcher"),", these are discussed in detail on ",(0,r.kt)("a",{parentName:"p",href:"/docs/api_reference/high_level_api/store.useState"},(0,r.kt)("inlineCode",{parentName:"a"},"store.useState")," API"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// Signature\nstore.useState(\n    key: String,\n    config?: {default: Any, persist: Boolean, selector: Function, patcher: Function}\n)\n")),(0,r.kt)("p",null,"Below is an example showing how to use ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useState")," hook"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'store.setState("user", {name: "Yezy", email: "yezy@me.com"});\n\nfunction Component(props){\n    const [user, setUser, updateUser] = store.useState("user");\n    // Other stuff\n}\n')),(0,r.kt)("p",null,"Here ",(0,r.kt)("inlineCode",{parentName:"p"},"updateUser")," is a higher order function which accepts another function for updating user as an argument(this another functions takes user(old state) as the argument). So to update any value on user you could do"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'updateUser(function(user){\n    user.name = "Yezy Ilomo";\n    user.email = "hello@yezy.com";\n})\n')),(0,r.kt)("p",null,"Or you could just use ",(0,r.kt)("inlineCode",{parentName:"p"},"setUser")," instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"updateUser")," i.e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'setUser({name: "Yezy Ilomo", email: "hello@yezy.com"});\n')),(0,r.kt)("p",null,"Or "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'setUser(function(user){\n    return {\n        name: "Yezy Ilomo",\n        email: "hello@yezy.com"\n    }\n})\n')),(0,r.kt)("br",null),(0,r.kt)("p",null,"Another way to use store state is through ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useReducer")," which is an alternative to ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useState"),", it works just like ",(0,r.kt)("inlineCode",{parentName:"p"},"React.useReducer")," hook(If you\u2019re familiar with ",(0,r.kt)("inlineCode",{parentName:"p"},"React.useReducer"),", you already know how this works)."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"store.useReducer")," accepts a reducer and a key for the state as parameters, it returns the current state paired with a dispatch method."),(0,r.kt)("p",null,"In addition to the two parameters it also accept another optinal perameter which is the configuration object, available configurations are ",(0,r.kt)("inlineCode",{parentName:"p"},"default"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"persist"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"selector")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"patcher"),", they work exactly the same just like in ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useState"),"."),(0,r.kt)("p",null,"Below is a simple example showing how to use it"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'store.setState("user", {name: "Yezy", email: "yezy@me.com"});\n\nfunction myReducer(state, action){\n    // This could be any reducer\n    // Do whatever you want to do here\n    return newState\n}\n\nfunction Component(props){\n    const [name, dispatch] = store.useReducer(myReducer, "user");\n\n    // Other stuff ...\n}\n')),(0,r.kt)("p",null,"You can learn more about ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useReducer")," on ",(0,r.kt)("a",{parentName:"p",href:"/docs/api_reference/high_level_api/store.useReducer"},(0,r.kt)("inlineCode",{parentName:"a"},"store.useReducer")," API section")),(0,r.kt)("br",null),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Both ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useState")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useReducer")," accepts an optional ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," configuration, this is used to specify the default value if you want ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useState")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"store.useReducer")," to create a state if it doesn't find the one for the key specified in the first argument. For example"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const [user, setUser] = store.useState("user", {default: null});\n')),(0,r.kt)("p",{parentName:"admonition"},'  This piece of code means, get the state for the key "user" if it\'s not available in a store, create one and assign it the value ',(0,r.kt)("inlineCode",{parentName:"p"},"null"),". So state pool can create state dynamically.")))}l.isMDXComponent=!0}}]);